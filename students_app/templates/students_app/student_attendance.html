{% extends "base.html" %}

{% block content %}
<div class="attendance-container max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 mt-8">
    <button onclick="window.history.back()" class="bg-[#22333C] text-white px-4 py-2 rounded-lg hover:bg-[#C6AD8F]">
        <?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'>
        <svg height="16px" id="Layer_1" style="enable-background:new 0 0 16 16;" version="1.1" viewBox="0 0 16 16" width="16px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15,6H8V3c0-0.484-0.375-1-1-1C6.539,2,6.305,2.287,6,2.54L0.625,7C0.242,7.313,0,7.555,0,8s0.242,0.688,0.625,1L6,13.46  C6.305,13.713,6.539,14,7,14c0.625,0,1-0.516,1-1v-3h7c0.55,0,1-0.45,1-1V7C16,6.45,15.55,6,15,6z"/></svg>
    </button>
    <h2 class="text-2xl font-bold text-[#22333C] mb-4">Attendance Record</h2>

    <div class="mb-6">
        <div class="flex justify-between">
            <p class="text-lg font-semibold text-[#22333C]">Total Days: <span class="font-normal">{{ total_days }}</span></p>
            <p class="text-lg font-semibold text-green-600">Days Present: <span class="font-normal">{{ days_present }}</span></p>
            <p class="text-lg font-semibold text-red-600">Days Absent: <span class="font-normal">{{ days_absent }}</span></p>
        </div>
    </div>

    <div class="overflow-x-auto">
        <table class="min-w-full bg-white border border-[#C6AD8F]">
            <thead class="bg-[#22333C] text-white">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border">Date</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider border">Status</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                {% for record in attendance_records %}
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap border text-[#22333C]">{{ record.date }}</td>
                    <td class="px-6 py-4 whitespace-nowrap border">
                        {% if record.status == "Present" %}
                            <span class="text-green-600 font-semibold">{{ record.status }}</span>
                        {% else %}
                            <span class="text-red-600 font-semibold">{{ record.status }}</span>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2" class="px-6 py-4 border text-center text-[#22333C]">No attendance records found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="mt-6 text-right">
        <a href="{% url 'student:attendance_report_download' %}" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">Download Report</a>
    </div>
</div>
{% endblock %}
