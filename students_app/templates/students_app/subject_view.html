{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mx-auto p-6">
    <button onclick="window.history.back()" class="bg-[#22333C] text-white px-4 py-2 rounded-lg hover:bg-[#C6AD8F]">
        <?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'>
        <svg height="16px" id="Layer_1" style="enable-background:new 0 0 16 16;" version="1.1" viewBox="0 0 16 16" width="16px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15,6H8V3c0-0.484-0.375-1-1-1C6.539,2,6.305,2.287,6,2.54L0.625,7C0.242,7.313,0,7.555,0,8s0.242,0.688,0.625,1L6,13.46  C6.305,13.713,6.539,14,7,14c0.625,0,1-0.516,1-1v-3h7c0.55,0,1-0.45,1-1V7C16,6.45,15.55,6,15,6z"/></svg>
    </button>
    <h2 class="text-2xl font-bold text-[#22333C] mb-6">My Subjects</h2>
    
    <!-- Subjects Table -->
    <table class="w-full table-auto">
        <thead class="bg-[#22333C] text-white">
            <tr>
                <th class="px-4 py-2 text-left text-sm font-medium text-white">Subject Name</th>
                <th class="px-4 py-2 text-left text-sm font-medium text-white">Teacher(s)</th>
            </tr>
        </thead>
        <tbody>
            {% if student.subjects.exists %}
                {% for subject in student.subjects.all %}
                    <tr class="border-b">
                        <td class="px-4 py-2 text-[#22333C]">{{ subject.name }}</td>
                        <td class="px-4 py-2 text-[#22333C]">
                            {% for teacher in subject.teachers.all %}
                                {{ teacher.user.first_name }} {{ teacher.user.last_name }}{% if not forloop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="2" class="px-4 py-2 text-center text-[#22333C]">No subjects found.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}
